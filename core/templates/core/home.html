<!DOCTYPE html>
<html>
<head>
    <title>Flight-Flow | Home</title>
    {% load static %}
    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css">
    <link rel="icon" type="image/x-icon" href="{% static 'core/img/favicon.ico' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            margin: 0;
            padding: 0;
            background: #F5F7FA; /* Off-White */
            color: #1A1A1A;      /* Charcoal Grey */
        }
        nav {
            background: linear-gradient(90deg, #F5F7FA 80%, #e0f7fa 100%);
            border-bottom: 2px solid #028A9E;
            box-shadow: 0 2px 12px rgba(2,138,158,0.08);
            border-radius: 0 0 18px 18px;
            overflow: hidden;
        }
        .navbar-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 2em;
            width: 100%;
            height: 70px;
        }
        .logo img {
            max-height: 60px;
            width: auto;
            display: block;
            filter: drop-shadow(0 2px 8px rgba(2,138,158,0.10));
        }
        .nav-links {
            margin-left: auto;
        }
        .nav-links ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: flex-end;
        }
        .nav-links ul li {
            margin: 0 1em;
        }
        .nav-links ul li a {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            color: #028A9E;
            text-decoration: none;
            font-size: 0.95em;
            padding: 0.3em 1em;
            border-radius: 20px;
            transition: background 0.2s, color 0.2s;
        }
        .nav-links ul li a:hover {
            background: #028A9E;
            color: #fff;
        }
        .container {
            width: 100vw;
            max-width: 100vw;
            margin: 0;
            padding: 2em 0;
            text-align: center;
            position: relative;
            min-height: 600px;   /* Increased from 350px to 500px */
            z-index: 1;
            overflow: hidden;
            border-radius: 0;
        }
        .hero-title {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 3.7em;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            color: #f5f5f5; /* Sky Teal */
        }
        .subtitle {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.3em;
            color: #f1f1f1; /* Charcoal Grey */
            margin-bottom: 2em;
        }
        .body-text {
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            font-size: 1.1em;
            color: #1A1A1A; /* Charcoal Grey */
            margin-bottom: 2em;
        }
        .cta-btn {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1.1em;
            background: #028A9E; /* Sky Teal */
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 0.8em 2em;
            cursor: pointer;
            transition: background 0.2s, color 0.2s;
            box-shadow: 0 2px 8px rgba(2,138,158,0.08);
            margin-top: 1em;
            border-bottom: 3px solid #F7C948; /* Gold Accent underline */
        }
        .cta-btn:hover {
            background: #F7C948; /* Gold Accent */
            color: #028A9E;      /* Sky Teal */
        }
        .country-selector {
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            font-size: 1em;
            color: #1A1A1A; /* Charcoal Grey */
            margin-left: auto;
            margin-right: 1em;
        }
        .slideshow-bg {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            width: 100vw;
            height: 100%;
            z-index: 0;
        }
        .slide {
            position: absolute;
            width: 100vw;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1s;
            left: 0;
            top: 0;
        }
        .slide.active {
            opacity: 1;
            z-index: 1;
        }
        .slide-content {
            position: relative;
            z-index: 2;
            color: #fff;
            text-shadow: 0 2px 8px rgba(0,0,0,0.4);
            padding-top: 2em;
        }
        .flight-search-form {
            margin: 2em auto 0 auto;
            background: rgba(255,255,255,0.92);
            border-radius: 16px;
            box-shadow: 0 2px 12px rgba(2,138,158,0.08);
            padding: 1.2em 1em;
            max-width: 900px;
            position: relative;
            z-index: 5;
        }
        .flight-search-form .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 1em;
            justify-content: center;
            align-items: center;
        }
        .flight-search-form input,
        .flight-search-form select {
            border: 2px solid #028A9E !important;   /* Thinner border */
            border-radius: 8px;
            padding: 0.6em 1.5em;                   /* Match dropdown button padding */
            font-size: 1em;
            height: 44px;                           /* Match Bootstrap button height */
            background: #f5f7fa;
            color: #028A9E;
            outline: none;
            transition: border 0.2s;
            box-sizing: border-box;
        }

        .flight-search-form input:focus,
        .flight-search-form select:focus {
            border: 2.5px solid #028A9E !important;
            box-shadow: 0 0 0 2px #028A9E22;
        }

        .flight-search-form button.cta-btn {
            padding: 0.6em 1.5em;
            font-size: 1em;
            border-radius: 8px;
            margin-left: 0.5em;
        }
        .dropdown-menu {
    z-index: 1055 !important; /* higher than .container and slideshow */
}
        /* Remove border from dropdown buttons */
.btn-outline-primary.dropdown-toggle {
    border: 2px solid #028A9E !important;
    box-shadow: none !important;
    color: #028A9E !important;
}

.btn-outline-primary.dropdown-toggle::after {
    color: #028A9E !important;
    filter: none !important; /* Remove Bootstrap's default filter */
    opacity: 1 !important;
}

.btn-outline-primary.dropdown-toggle:hover,
.btn-outline-primary.dropdown-toggle:focus,
.btn-outline-primary.dropdown-toggle:active {
    background-color: #f5f7fa !important;
    color: #028A9E !important;
    border-color: #028A9E !important;
    box-shadow: none !important;
}

.btn-outline-primary.dropdown-toggle:focus,
.btn-outline-primary.dropdown-toggle:active,
.btn-outline-primary.dropdown-toggle.show,
.btn-outline-primary.dropdown-toggle:focus-visible {
    background-color: #fff !important;
    color: #028A9E !important;
    border-color: #028A9E !important;
    box-shadow: none !important;
    outline: none !important;
}

.passenger-dropdown .btn.btn-primary,
.dropdown-menu .btn.btn-primary {
    background: #fff !important;
    color: #111 !important;
    border: 2px solid #028A9E !important;
    box-shadow: none !important;
}
.passenger-dropdown .btn.btn-primary:hover,
.dropdown-menu .btn.btn-primary:hover {
    background: #f5f7fa !important;
    color: #028A9E !important;
    border: 2px solid #028A9E !important;
}

/* ADD PASSENGER button: black text, no blue hover */
.passenger-dropdown .btn-outline-primary,
.dropdown-menu .btn-outline-primary {
    color: #111 !important;
    border: 2px solid #028A9E !important;
    background: #fff !important;
}
.passenger-dropdown .btn-outline-primary:hover,
.dropdown-menu .btn-outline-primary:hover,
.passenger-dropdown .btn-outline-primary:focus,
.dropdown-menu .btn-outline-primary:focus {
    background: #f5f7fa !important;
    color: #028A9E !important;
    border: 2px solid #028A9E !important;
    box-shadow: none !important;
}

/* Prevent passenger box from turning blue on hover/focus */
.passenger-dropdown .accordion-button,
.passenger-dropdown .accordion-button:focus,
.passenger-dropdown .accordion-button:active,
.passenger-dropdown .accordion-button:hover,
.passenger-dropdown .accordion-button:not(.collapsed),
.passenger-dropdown .accordion-button.collapsed:focus,
.passenger-dropdown .accordion-button.collapsed:active,
.passenger-dropdown .accordion-button.collapsed:hover {
    background: #fff !important;
    color: #028A9E !important;
    box-shadow: none !important;
    border-color: #028A9E !important;
}
        @media (max-width: 700px) {
            .navbar-container {
                flex-direction: column;
                align-items: flex-start;
                padding: 0 em;
                height: auto;
            }
            .logo {
                font-size: 1.5em;
                margin-bottom: 0.5em;
            }
            .nav-links {
                width: 100%;
                margin-left: 0;
            }
            .nav-links ul {
                width: 100%;
                justify-content: flex-start;
                flex-wrap: wrap;
            }
            .nav-links ul li {
                margin: 0 0.7em 0.5em 0;
            }
            .container {
                padding: 1em 0.5em;
            }
            .hero-title {
                font-size: 1.5em;
            }
            .subtitle {
                font-size: 1em;
            }
            .flight-search-form {
                padding: 1em 0.5em;
            }
        }
        @media (max-width: 900px) {
    .flight-search-form .form-row {
        flex-direction: column;
        gap: 0.7em;
        align-items: stretch;
    }
    .flight-search-form {
        padding: 1em 0.5em;
    }
}

.why-choose {
    background: #fff;
    padding: 2em 2rem;
    text-align: center;
    position: relative;
    z-index: 1;
    overflow: hidden;
    border-radius: 18px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
}

.why-choose h2 {
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    font-size: 2.5em;
    margin-bottom: 1.5em;
    color: #028A9E;
}

.features {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2em;
}

.feature-box {
    background: #f5f7fa;
    border-radius: 12px;
    padding: 2em;
    text-align: center;
    flex: 1 1 250px;
    max-width: 300px;
    box-shadow: 0 2px 12px rgba(2,138,158,0.08);
    transition: transform 0.3s, box-shadow 0.3s;
}

.feature-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 24px rgba(2,138,158,0.15);
}

.feature-box img {
    max-width: 60px;
    margin-bottom: 1em;
}

.feature-box h3 {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    font-size: 1.5em;
    margin-bottom: 0.5em;
    color: #111;
}

.feature-box p {
    font-family: 'Poppins', sans-serif;
    font-weight: 400;
    font-size: 1em;
    color: #333;
    line-height: 1.4;
}
    </style>
</head>
<body>
    <nav>
        <div class="navbar-container">
            <span class="logo">
                <img src="{% static 'core/img/WhatsApp_Image_2025-06-19_at_11.15.24_815a1b9d-removebg-preview.png' %}" 
                     alt="Flight-Flow Logo"
                     style="max-height: 120px; width: auto; display: block;">
            </span>
            <div class="nav-links">
                <ul>
                    <li><a href="{% url 'home' %}">Home</a></li>
                    <li><a href="{% url 'flights' %}">Flights</a></li>
                    <li><a href="{% url 'about_us' %}">About Us</a></li>
                    <li><a href="{% url 'contact_us' %}">Contact Us</a></li>
                    <li><a href="{% url 'login' %}">Login</a></li>
                </ul>
            </div>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="slideshow-bg">
            <img src="{% static 'core/img/airplane-sunset.jpg' %}" class="slide active">
            <img src="{% static 'core/img/plane-airport-sunset.jpg' %}" class="slide">
            <img src="{% static 'core/img/planes-runway-modern-airport.jpg' %}" class="slide">
            <img src="{% static 'core/img/airport-aircraft-airplane-aviation-transportation-travel.jpg' %}" class="slide">
        </div>
        <div class="slide-content">
            <h1 class="hero-title">Connecting Africa, One Flight at a Time</h1>
            <div class="subtitle">Your trusted Gateway to discover, compare, and book flights across Africa - Seamlessly.</div>
        </div>
        <div class="flight-search-form">
    <form method="get" action="{% url 'flights' %}">
        <div class="form-row">
            <div class="btn-group me-2" style="min-width: 140px;">
  <button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="tripTypeBtn">
    Round Trip
  </button>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="#" onclick="setTripType('Round Trip', 'round_trip')">Round Trip</a></li>
    <li><a class="dropdown-item" href="#" onclick="setTripType('One-way', 'one_way')">One-way</a></li>
    <li><a class="dropdown-item" href="#" onclick="setTripType('Multi-city', 'multi_city')">Multi-city</a></li>
  </ul>
  <input type="hidden" name="trip_type" id="tripTypeInput" value="round_trip">
</div>
            <div class="input-group mb-2" style="max-width:220px;">
  <span class="input-group-text bg-white border-0" style="color:#000000;">
    <i class="ri-flight-takeoff-line"></i>
  </span>
  <input type="text" name="from" class="form-control" placeholder="Departing from" required>
</div>
<div class="input-group mb-2" style="max-width:220px;">
  <span class="input-group-text bg-white border-0" style="color:#0c0c0c;">
    <i class="ri-flight-land-fill"></i>
  </span>
  <input type="text" name="to" class="form-control" placeholder="Arriving at" required>
</div>
            <input type="date" name="departure" placeholder="Departure Date" required>
            <input type="date" name="return" placeholder="Return Date">
            <div class="btn-group me-2" style="min-width: 180px;" data-bs-auto-close="outside">
  <button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="passengerBtn">
    Passengers
  </button>
  <div class="dropdown-menu p-3 passenger-dropdown" style="min-width: 300px;" onclick="event.stopPropagation();">
    <div class="mb-2 fw-bold" id="passengerMenuTitle">Passengers (1)</div>
    <div id="passengerList">
      <div class="accordion" id="passengerAccordion">
        <!-- Passenger accordion items go here -->
      </div>
    </div>
    <button type="button" class="btn btn-sm btn-outline-primary w-100 mt-2" onclick="addPassenger()">+ Add Passenger</button>
    <div class="d-flex justify-content-start mt-3">
      <button type="button" class="btn btn-primary" onclick="closePassengerDropdown()">Continue</button>
    </div>
    <input type="hidden" name="passenger_count" id="passenger_count" value="1">
  </div>
</div>
            <div class="btn-group me-2" style="min-width: 140px;">
  <button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="classBtn">
    Class
  </button>
  <ul class="dropdown-menu">
    <li><a class="dropdown-item" href="#" onclick="setClass('Economy', 'economy')">Economy</a></li>
    <li><a class="dropdown-item" href="#" onclick="setClass('Premium Economy', 'premium_economy')">Premium Economy</a></li>
    <li><a class="dropdown-item" href="#" onclick="setClass('Business', 'business')">Business</a></li>
    <li><a class="dropdown-item" href="#" onclick="setClass('First Class', 'first')">First Class</a></li>
  </ul>
  <input type="hidden" name="class" id="classInput" value="">
</div>
            <button type="submit" class="cta-btn" style="margin:0;">Search Flight</button>
        </div>
    </form>
</div>
    </div> <!-- End .container (after flight-search-form) -->

    
            </div>
        </div>
    </section>
    <!-- Why Choose FlightFlow Section -->
<section class="why-choose">
  <h2>Why Choose FlightFlow?</h2>
  <div class="features">
    <div class="feature-box">
      <i class="ri-plane-line" style="font-size:48px; color:#028A9E; margin-bottom:15px;"></i>
      <h3>Compare Flights</h3>
      <p>See multiple airlines, prices, and flight durations at once.</p>
    </div>
    <div class="feature-box">
      <!-- Flexible Payments Icon: Credit card -->
      <svg width="48" height="48" fill="none" viewBox="0 0 48 48">
        <rect x="6" y="12" width="36" height="24" rx="4" stroke="#F4A261" stroke-width="2.5" fill="#fff"/>
        <rect x="10" y="28" width="8" height="4" rx="2" fill="#F4A261"/>
        <rect x="22" y="28" width="8" height="4" rx="2" fill="#F4A261"/>
        <rect x="6" y="18" width="36" height="4" fill="#F4A261" opacity="0.2"/>
      </svg>
      <h3>Flexible Payments</h3>
      <p>Use Mobile Money, Paystack, or Flutterwave to pay securely.</p>
    </div>
    <div class="feature-box">
      <!-- Africa-first Icon: Africa continent SVG -->
      <svg width="48" height="48" viewBox="0 0 48 48" fill="none">
    <circle cx="24" cy="24" r="22" stroke="#028A9E" stroke-width="2.5" fill="#F4A26122"/>
    <path d="M20 12
      Q22 10, 26 12
      Q32 14, 32 20
      Q36 22, 34 28
      Q32 32, 28 32
      Q26 36, 22 34
      Q18 32, 18 28
      Q14 26, 16 22
      Q14 18, 18 16
      Q18 14, 20 12
      Z"
      fill="#F4A261" stroke="#028A9E" stroke-width="1.5"/>
  </svg>
      <h3>Africa-first</h3>
      <p>Built for African travellers, supporting local currencies and languages.</p>
    </div>
  </div>
</section>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    let slides = document.querySelectorAll('.slide');
    let currentSlide = 0;
    setInterval(() => {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
    }, 4000); // Change image every 4 seconds
});

function setTripType(label, value) {
    document.getElementById('tripTypeBtn').textContent = label;
    document.getElementById('tripTypeInput').value = value;
}

function setClass(label, value) {
    document.getElementById('classBtn').textContent = label;
    document.getElementById('classInput').value = value;
}

let passengerCount = 1;

function updatePassengerBtn() {
    const btn = document.getElementById('passengerBtn');
    btn.textContent = `Passengers${passengerCount > 1 ? ' (' + passengerCount + ')' : ''}`;
    document.getElementById('passengerMenuTitle').textContent = `Passengers (${passengerCount})`;
}

function addPassenger() {
    passengerCount++;
    createPassengerAccordion(passengerCount);
    document.getElementById('passenger_count').value = passengerCount;
    updatePassengerBtn();
    // Remove focus from the dropdown button to prevent blue highlight
    document.getElementById('passengerBtn').blur();
}

function createPassengerAccordion(num) {
    const passengerAccordion = document.getElementById('passengerAccordion');
    const newAccordion = document.createElement('div');
    newAccordion.className = 'accordion-item mb-2';
    newAccordion.id = `passengerItem${num}`;
    newAccordion.innerHTML = `
      <h2 class="accordion-header d-flex align-items-center" id="heading${num}">
        <button class="accordion-button collapsed py-2 px-3 flex-grow-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapse${num}" aria-expanded="false" aria-controls="collapse${num}">
          Passenger ${num}
        </button>
        ${num > 1 ? `
        <span title="Remove" onclick="removePassenger(${num})" style="cursor:pointer; margin-left:4px; opacity:0.5; font-size:0.60em; line-height:1;">
          &#10005;
        </span>
        ` : ''}
      </h2>
      <div id="collapse${num}" class="accordion-collapse collapse" aria-labelledby="heading${num}" data-bs-parent="#passengerAccordion">
        <div class="accordion-body p-2">
          <label class="form-label mb-1">Type</label>
          <select class="form-select mb-2" onchange="updatePassengerType(${num}, this.value)">
            <option value="adult" selected>Adult</option>
            <option value="child">Child</option>
            <option value="infant">Infant</option>
          </select>
          <label class="form-label mb-1">Age Range</label>
          <select class="form-select" id="passenger${num}_age">
            <option value="18-64">18-64</option>
            <option value="65+">65+</option>
          </select>
          <input type="hidden" name="passenger${num}_type" id="passenger${num}_type" value="adult">
          <input type="hidden" name="passenger${num}_age_value" id="passenger${num}_age_value" value="18-64">
        </div>
      </div>
    `;
    passengerAccordion.appendChild(newAccordion);
}

function closePassengerDropdown() {
    // Close the dropdown using Bootstrap's dropdown API
    const dropdown = bootstrap.Dropdown.getOrCreateInstance(document.getElementById('passengerBtn'));
    dropdown.hide();
    updatePassengerBtn();
}

// On page load, create the first passenger and update button
document.addEventListener('DOMContentLoaded', function() {
    if (passengerCount === 1 && document.getElementById('passengerAccordion').children.length === 0) {
        createPassengerAccordion(1);
    }
    updatePassengerBtn();
});

function removePassenger(num) {
    const item = document.getElementById(`passengerItem${num}`);
    if (item) {
        item.remove();
        passengerCount--;
        document.getElementById('passenger_count').value = passengerCount;
        updatePassengerBtn();
        // Re-label remaining passengers
        relabelPassengers();
    }
}

function relabelPassengers() {
    const items = document.querySelectorAll('#passengerAccordion .accordion-item');
    items.forEach((item, idx) => {
        const n = idx + 1;
        item.id = `passengerItem${n}`;
        item.querySelector('.accordion-button').textContent = `Passenger ${n}`;
        item.querySelector('.accordion-header').id = `heading${n}`;
        item.querySelector('.accordion-button').setAttribute('data-bs-target', `#collapse${n}`);
        item.querySelector('.accordion-button').setAttribute('aria-controls', `collapse${n}`);
        item.querySelector('.accordion-collapse').id = `collapse${n}`;
        item.querySelector('.accordion-collapse').setAttribute('aria-labelledby', `heading${n}`);
        // Show remove icon only for passengers > 1
        const removeIcon = item.querySelector('span[title="Remove"]');
        if (removeIcon) {
            removeIcon.style.display = n > 1 ? '' : 'none';
            removeIcon.setAttribute('onclick', `removePassenger(${n})`);
        }
    });
}
    </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>